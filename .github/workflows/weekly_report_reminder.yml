name: 🌸 周报时光 · 一周复盘时刻

on:
  schedule:
    - cron: '0 5 * * 6'   # UTC 5:00 = 北京时间 13:00，每周六
  workflow_dispatch:

jobs:
  weekly-report:
    runs-on: ubuntu-latest
    steps:
      - name: 🌟 发送优雅周报提醒
        env:
          WECHAT_KEY: ${{ secrets.WECHAT_BOT_KEY }}
        run: |
          DATE_STR=$(date '+%m月%d日')
          CN_DAY="周六"

          WEEKLY_QUOTES=(
            "一周的终点，是下一段征程的起点。"
            "你的周报，不是任务，而是成长的年轮。"
            "没有复盘的一周，等于白过。"
            "用文字封存这一周的光，别让它随周末消散。"
            "周报写得好，老板睡得早。"
            "今日不复盘，明日两行泪。"
            "你写的不是周报，是给未来的自己留信。"
            "总结过去，才能定义未来。"
            "别让一周的成果，烂在记忆里。"
            "周报是打工人对抗遗忘的锚。"
            "复盘不是为了自责，而是为了下次飞得更高。"
            "周报不是形式，是你对专业的尊重。"
            "写周报的人，掌控自己的节奏。"
            "复盘一次，胜过盲目十天。"
            "你今天的总结，是明天的指南针。"
            "周报写完，周末才完整。"
            "没有记录的努力，等于没发生。"
            "周报是职场人的修行日记。"
            "别等周一慌乱，周六从容收尾。"
            "你的周报，是团队前进的地图。"
            "复盘不是负担，是自由的开始。"
            "写周报，是对时间的敬畏。"
            "一周一省，步步生莲。"
            "你的思考，值得被看见。"
            "周报不是交差，是自我对话。"
            "今日复盘，明日开挂。"
            "别让灵感溜走，趁热写下它。"
            "总结，是高手的日常习惯。"
            "你写的每个字，都在塑造职业形象。"
            "周报写得好，升职不用跑。"
            "复盘不是结束，是升级前的加载。"
            "这一周，你值得被认真记录。"
            "别让忙碌掩盖了成果。"
            "周报是职场信用的积累。"
            "写周报的人，从不被埋没。"
            "你的努力，需要被量化。"
            "复盘一次，少走三年弯路。"
            "周报不是任务，是机会。"
            "今日总结，明日超车。"
            "别让成果沉没在聊天记录里。"
            "周报是打工人的时间胶囊。"
            "写周报，是对自己负责。"
            "复盘，是为了更优雅地前进。"
            "你的思考，比代码更珍贵。"
            "周报写完，心才安定。"
            "没有复盘的奋斗，只是消耗。"
            "用周报，把碎片拼成蓝图。"
            "你这一周，闪闪发光。"
            "别等别人问，主动亮出成果。"
            "周报是职场人的作品集。"
            "复盘不是检讨，是进化。"
            "今日不写，明日编造。"
            "你的周报，正在被宇宙存档。"
            "写周报，是专业主义的体现。"
            "一周一结，稳中求进。"
            "别让辛苦白费，快记下来！"
            "周报是给老板的礼物，也是给自己的勋章。"
            "复盘，是聪明人的加速器。"
            "你的成果，值得被郑重书写。"
            "周报不是负担，是底气。"
            "今日复盘，下周开挂。"
            "别让灵感随风飘散。"
            "周报是职场成长的刻度尺。"
            "写周报的人，永远清醒。"
            "你的努力，不该无声无息。"
            "复盘一次，胜过空想百遍。"
            "周报是打工人留给世界的痕迹。"
            "别等周一抓瞎，周六优雅收工。"
            "你的思考，正在改变团队。"
            "周报写得好，bug 绕道走。"
            "复盘不是浪费时间，是节省时间。"
            "这一周的故事，请用文字珍藏。"
            "别让成果淹没在工单里。"
            "周报是职场人的第二简历。"
            "写周报，是对未来的投资。"
            "今日总结，明日领先。"
            "你的周报，比日报更有力量。"
            "复盘，是为了轻装上阵。"
            "别让忙碌代替了价值。"
            "周报是给自己的年终奖预演。"
            "写周报的人，掌控叙事权。"
            "你的努力，需要被看见。"
            "复盘一次，少踩十个坑。"
            "周报不是形式主义，是战略工具。"
            "今日不写，下周失忆。"
            "你的周报，正在为晋升铺路。"
            "别让成果只活在脑子里。"
            "周报是职场人的导航仪。"
            "写周报，是高手的仪式感。"
            "复盘，是为了更准地发力。"
            "这一周的高光，请用文字封存。"
            "别等站会尴尬，提前准备好。"
            "周报是团队知识的沉淀。"
            "你的思考，正在创造价值。"
            "周报写完，周末才踏实。"
            "别让辛苦变成‘好像做了什么’。"
            "周报是打工人对抗混沌的秩序。"
            "写周报的人，从不被动。"
            "你的成果，值得被结构化表达。"
            "复盘一次，多一分确定性。"
            "周报不是负担，是武器。"
            "今日总结，下周从容。"
            "别让灵感在梦里溜走。"
            "周报是职场信用的基石。"
            "写周报，是对自己最大的善意。"
            "复盘，是为了跳过重复。"
            "这一周的你，值得被铭记。"
            "别等老板问，主动亮剑。"
            "周报是团队协作的桥梁。"
            "你的努力，需要被系统记录。"
            "写周报，是专业主义的微光。"
            "复盘一次，多一个选择。"
            "周报不是任务，是舞台。"
            "今日总结，明日闪耀。"
            "别让忙碌掩盖了方向。"
            "周报是打工人的时间账本。"
            "写周报的人，从不迷失。"
            "你的成果，值得被放大。"
            "复盘，是为了轻盈前行。"
            "这一周的你，超棒！"
            "别让辛苦白流，快写下来！"
            "周报是职场人的复利工具。"
            "你的思考，正在塑造未来。"
            "周报写完，世界都安静了。"
            "复盘不是回头看，是为跳得更远。"
            "今日不写，下周失焦。"
            "你的周报，比 PPT 更真实。"
            "别让成果只存在于口头。"
            "周报是给自己的成长礼。"
            "写周报，是高手的日常。"
            "复盘，是为了精准发力。"
            "这一周的努力，请用文字加冕。"
            "别等周一慌，周六从容写。"
            "周报是团队智慧的结晶。"
            "你的思考，值得被珍藏。"
            "周报写得好，机会自然找。"
            "复盘不是负担，是自由。"
            "今日总结，下周开挂。"
            "别让灵感随风而逝。"
            "周报是职场人的罗盘。"
            "写周报的人，永远有底气。"
            "你的努力，不该被遗忘。"
            "复盘一次，少走冤枉路。"
            "周报不是形式，是力量。"
            "今日不写，明日靠猜。"
            "你的周报，正在改变叙事。"
            "别让成果沉没在会议中。"
            "周报是打工人对抗熵增的武器。"
            "写周报，是对时间的礼赞。"
            "复盘，是为了更优雅地赢。"
            "这一周的你，光芒万丈✨"
          )

          idx=$((RANDOM % ${#WEEKLY_QUOTES[@]}))
          quote="${WEEKLY_QUOTES[$idx]}"
          author="周报哲人"
          quote_safe=$(printf '%s' "$quote" | sed 's/"/\\"/g')

          curl -s -X POST \
            "https://qyapi.weixin.qq.com/cgi-bin/webhook/send?key=$WECHAT_KEY" \
            -H 'Content-Type: application/json' \
            -d '{
              "msgtype": "markdown",
              "markdown": {
                "content": "🌸 **周报时光 · 一周复盘时刻** 🌸\n\n📅 **今日**：'$DATE_STR'（'$CN_DAY'）\n⏰ **截止**：<font color=\"warning\">今日内完成</font>\n\n💬 <font color=\"comment\">“'$quote_safe'”</font>\n> —— '$author'\n\n📄 **记得上交周报** ✨\n\n💫 **这一周的努力，值得被郑重记录。**\n\n@all"
              }
            }' >/dev/null || true
