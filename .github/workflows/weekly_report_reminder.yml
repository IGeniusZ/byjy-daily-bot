name: ðŸ“Š å‘¨æŠ¥æé†’ï¼ˆå•ä¼‘ Â· åè¨€å“²æ€ç‰ˆï¼‰

on:
  schedule:
    - cron: '0 5 * * 6'   # UTC 5:00 = åŒ—äº¬æ—¶é—´ 13:00ï¼Œæ¯å‘¨å…­
  workflow_dispatch:

jobs:
  weekly-report:
    runs-on: ubuntu-latest
    steps:
      - name: ðŸŒŸ å‘é€å‘¨æŠ¥æé†’ï¼ˆçº¯æ–‡æœ¬ + @allï¼‰
        env:
          WECHAT_KEY: ${{ secrets.WECHAT_BOT_KEY }}
        run: |
          DATE_STR=$(date '+%mæœˆ%dæ—¥')
          CN_DAY="å‘¨å…­"

          WEEKLY_QUOTES=(
            "å¤ç›˜ï¼Œæ˜¯ä¸ºäº†æ›´ä¼˜é›…åœ°å‰è¿›ã€‚"
            "ä½ çš„å‘¨æŠ¥ï¼Œæ­£åœ¨è¢«å®‡å®™å­˜æ¡£ã€‚"
            "è¿™ä¸€å‘¨çš„åŠªåŠ›ï¼Œå€¼å¾—è¢«éƒ‘é‡è®°å½•ã€‚"
            "åˆ«è®©æˆæžœéšå‘¨äº”ä¸‹ç­è€Œæ¶ˆå¤±ã€‚"
            "å‘¨æŠ¥ä¸æ˜¯ä»»åŠ¡ï¼Œæ˜¯æˆé•¿çš„å¹´è½®ã€‚"
            "æ€»ç»“è¿‡åŽ»ï¼Œæ‰èƒ½å®šä¹‰æœªæ¥ã€‚"
            "æ²¡æœ‰å¤ç›˜çš„ä¸€å‘¨ï¼Œç­‰äºŽç™½è¿‡ã€‚"
            "ç”¨æ–‡å­—å°å­˜è¿™ä¸€å‘¨çš„å…‰ã€‚"
            "å‘¨æŠ¥å†™å¾—å¥½ï¼Œè€æ¿ç¡å¾—æ—©ã€‚"
            "ä»Šæ—¥ä¸å¤ç›˜ï¼Œæ˜Žæ—¥ä¸¤è¡Œæ³ªã€‚"
            "ä½ å†™çš„ä¸æ˜¯å‘¨æŠ¥ï¼Œæ˜¯ç»™æœªæ¥çš„è‡ªå·±ç•™ä¿¡ã€‚"
            "å‘¨æŠ¥æ˜¯æ‰“å·¥äººå¯¹æŠ—é—å¿˜çš„é”šã€‚"
            "å¤ç›˜ä¸æ˜¯ä¸ºäº†è‡ªè´£ï¼Œè€Œæ˜¯ä¸ºäº†ä¸‹æ¬¡é£žå¾—æ›´é«˜ã€‚"
            "å†™å‘¨æŠ¥çš„äººï¼ŒæŽŒæŽ§è‡ªå·±çš„èŠ‚å¥ã€‚"
            "å¤ç›˜ä¸€æ¬¡ï¼Œèƒœè¿‡ç›²ç›®åå¤©ã€‚"
            "ä½ ä»Šå¤©çš„æ€»ç»“ï¼Œæ˜¯æ˜Žå¤©çš„æŒ‡å—é’ˆã€‚"
            "å‘¨æŠ¥å†™å®Œï¼Œå‘¨æœ«æ‰å®Œæ•´ã€‚"
            "æ²¡æœ‰è®°å½•çš„åŠªåŠ›ï¼Œç­‰äºŽæ²¡å‘ç”Ÿã€‚"
            "å‘¨æŠ¥æ˜¯èŒåœºäººçš„ä¿®è¡Œæ—¥è®°ã€‚"
            "åˆ«ç­‰å‘¨ä¸€æ…Œä¹±ï¼Œå‘¨å…­ä»Žå®¹æ”¶å°¾ã€‚"
            "ä½ çš„å‘¨æŠ¥ï¼Œæ˜¯å›¢é˜Ÿå‰è¿›çš„åœ°å›¾ã€‚"
            "å¤ç›˜ä¸æ˜¯è´Ÿæ‹…ï¼Œæ˜¯è‡ªç”±çš„å¼€å§‹ã€‚"
            "å†™å‘¨æŠ¥ï¼Œæ˜¯å¯¹æ—¶é—´çš„æ•¬ç•ã€‚"
            "ä¸€å‘¨ä¸€çœï¼Œæ­¥æ­¥ç”ŸèŽ²ã€‚"
            "ä½ çš„æ€è€ƒï¼Œå€¼å¾—è¢«çœ‹è§ã€‚"
            "å‘¨æŠ¥ä¸æ˜¯äº¤å·®ï¼Œæ˜¯è‡ªæˆ‘å¯¹è¯ã€‚"
            "ä»Šæ—¥å¤ç›˜ï¼Œæ˜Žæ—¥å¼€æŒ‚ã€‚"
            "åˆ«è®©çµæ„Ÿæºœèµ°ï¼Œè¶çƒ­å†™ä¸‹å®ƒã€‚"
            "æ€»ç»“ï¼Œæ˜¯é«˜æ‰‹çš„æ—¥å¸¸ä¹ æƒ¯ã€‚"
            "ä½ å†™çš„æ¯ä¸ªå­—ï¼Œéƒ½åœ¨å¡‘é€ èŒä¸šå½¢è±¡ã€‚"
            "å‘¨æŠ¥å†™å¾—å¥½ï¼Œå‡èŒä¸ç”¨è·‘ã€‚"
            "å¤ç›˜ä¸æ˜¯ç»“æŸï¼Œæ˜¯å‡çº§å‰çš„åŠ è½½ã€‚"
            "è¿™ä¸€å‘¨ï¼Œä½ å€¼å¾—è¢«è®¤çœŸè®°å½•ã€‚"
            "åˆ«è®©å¿™ç¢ŒæŽ©ç›–äº†æˆæžœã€‚"
            "å‘¨æŠ¥æ˜¯èŒåœºä¿¡ç”¨çš„ç§¯ç´¯ã€‚"
            "å†™å‘¨æŠ¥çš„äººï¼Œä»Žä¸è¢«åŸ‹æ²¡ã€‚"
            "ä½ çš„åŠªåŠ›ï¼Œéœ€è¦è¢«é‡åŒ–ã€‚"
            "å¤ç›˜ä¸€æ¬¡ï¼Œå°‘èµ°ä¸‰å¹´å¼¯è·¯ã€‚"
            "å‘¨æŠ¥ä¸æ˜¯ä»»åŠ¡ï¼Œæ˜¯æœºä¼šã€‚"
            "ä»Šæ—¥æ€»ç»“ï¼Œæ˜Žæ—¥è¶…è½¦ã€‚"
            "åˆ«è®©æˆæžœæ²‰æ²¡åœ¨èŠå¤©è®°å½•é‡Œã€‚"
            "å‘¨æŠ¥æ˜¯æ‰“å·¥äººçš„æ—¶é—´èƒ¶å›Šã€‚"
            "å†™å‘¨æŠ¥ï¼Œæ˜¯å¯¹è‡ªå·±è´Ÿè´£ã€‚"
            "å¤ç›˜ï¼Œæ˜¯ä¸ºäº†æ›´ä¼˜é›…åœ°å‰è¿›ã€‚"
            "ä½ çš„æ€è€ƒï¼Œæ¯”ä»£ç æ›´çè´µã€‚"
            "å‘¨æŠ¥å†™å®Œï¼Œå¿ƒæ‰å®‰å®šã€‚"
            "æ²¡æœ‰å¤ç›˜çš„å¥‹æ–—ï¼Œåªæ˜¯æ¶ˆè€—ã€‚"
            "ç”¨å‘¨æŠ¥ï¼ŒæŠŠç¢Žç‰‡æ‹¼æˆè“å›¾ã€‚"
            "ä½ è¿™ä¸€å‘¨ï¼Œé—ªé—ªå‘å…‰ã€‚"
            "åˆ«ç­‰åˆ«äººé—®ï¼Œä¸»åŠ¨äº®å‡ºæˆæžœã€‚"
            "å‘¨æŠ¥æ˜¯èŒåœºäººçš„ä½œå“é›†ã€‚"
            "å¤ç›˜ä¸æ˜¯æ£€è®¨ï¼Œæ˜¯è¿›åŒ–ã€‚"
            "ä»Šæ—¥ä¸å†™ï¼Œæ˜Žæ—¥ç¼–é€ ã€‚"
            "ä½ çš„å‘¨æŠ¥ï¼Œæ­£åœ¨è¢«å®‡å®™å­˜æ¡£ã€‚"
            "å†™å‘¨æŠ¥ï¼Œæ˜¯ä¸“ä¸šä¸»ä¹‰çš„ä½“çŽ°ã€‚"
            "ä¸€å‘¨ä¸€ç»“ï¼Œç¨³ä¸­æ±‚è¿›ã€‚"
            "åˆ«è®©è¾›è‹¦ç™½è´¹ï¼Œå¿«è®°ä¸‹æ¥ï¼"
            "å‘¨æŠ¥æ˜¯ç»™è€æ¿çš„ç¤¼ç‰©ï¼Œä¹Ÿæ˜¯ç»™è‡ªå·±çš„å‹‹ç« ã€‚"
            "å¤ç›˜ï¼Œæ˜¯èªæ˜Žäººçš„åŠ é€Ÿå™¨ã€‚"
            "ä½ çš„æˆæžœï¼Œå€¼å¾—è¢«éƒ‘é‡ä¹¦å†™ã€‚"
            "å‘¨æŠ¥ä¸æ˜¯è´Ÿæ‹…ï¼Œæ˜¯åº•æ°”ã€‚"
            "ä»Šæ—¥å¤ç›˜ï¼Œä¸‹å‘¨å¼€æŒ‚ã€‚"
            "åˆ«è®©çµæ„Ÿéšé£Žé£˜æ•£ã€‚"
            "å‘¨æŠ¥æ˜¯èŒåœºæˆé•¿çš„åˆ»åº¦å°ºã€‚"
            "å†™å‘¨æŠ¥çš„äººï¼Œæ°¸è¿œæ¸…é†’ã€‚"
            "ä½ çš„åŠªåŠ›ï¼Œä¸è¯¥æ— å£°æ— æ¯ã€‚"
            "å¤ç›˜ä¸€æ¬¡ï¼Œèƒœè¿‡ç©ºæƒ³ç™¾éã€‚"
            "å‘¨æŠ¥æ˜¯æ‰“å·¥äººç•™ç»™ä¸–ç•Œçš„ç—•è¿¹ã€‚"
            "åˆ«ç­‰å‘¨ä¸€æŠ“çžŽï¼Œå‘¨å…­ä¼˜é›…æ”¶å·¥ã€‚"
            "ä½ çš„æ€è€ƒï¼Œæ­£åœ¨æ”¹å˜å›¢é˜Ÿã€‚"
            "å‘¨æŠ¥å†™å¾—å¥½ï¼Œbug ç»•é“èµ°ã€‚"
            "å¤ç›˜ä¸æ˜¯æµªè´¹æ—¶é—´ï¼Œæ˜¯èŠ‚çœæ—¶é—´ã€‚"
            "è¿™ä¸€å‘¨çš„æ•…äº‹ï¼Œè¯·ç”¨æ–‡å­—çè—ã€‚"
            "åˆ«è®©æˆæžœæ·¹æ²¡åœ¨å·¥å•é‡Œã€‚"
            "å‘¨æŠ¥æ˜¯èŒåœºäººçš„ç¬¬äºŒç®€åŽ†ã€‚"
            "å†™å‘¨æŠ¥ï¼Œæ˜¯å¯¹æœªæ¥çš„æŠ•èµ„ã€‚"
            "ä»Šæ—¥æ€»ç»“ï¼Œæ˜Žæ—¥é¢†å…ˆã€‚"
            "ä½ çš„å‘¨æŠ¥ï¼Œæ¯”æ—¥æŠ¥æ›´æœ‰åŠ›é‡ã€‚"
            "å¤ç›˜ï¼Œæ˜¯ä¸ºäº†è½»è£…ä¸Šé˜µã€‚"
            "åˆ«è®©å¿™ç¢Œä»£æ›¿äº†ä»·å€¼ã€‚"
            "å‘¨æŠ¥æ˜¯ç»™è‡ªå·±çš„å¹´ç»ˆå¥–é¢„æ¼”ã€‚"
            "å†™å‘¨æŠ¥çš„äººï¼ŒæŽŒæŽ§å™äº‹æƒã€‚"
            "ä½ çš„åŠªåŠ›ï¼Œéœ€è¦è¢«çœ‹è§ã€‚"
            "å¤ç›˜ä¸€æ¬¡ï¼Œå°‘è¸©åä¸ªå‘ã€‚"
            "å‘¨æŠ¥ä¸æ˜¯å½¢å¼ä¸»ä¹‰ï¼Œæ˜¯æˆ˜ç•¥å·¥å…·ã€‚"
            "ä»Šæ—¥ä¸å†™ï¼Œä¸‹å‘¨å¤±å¿†ã€‚"
            "ä½ çš„å‘¨æŠ¥ï¼Œæ­£åœ¨ä¸ºæ™‹å‡é“ºè·¯ã€‚"
            "åˆ«è®©æˆæžœåªæ´»åœ¨è„‘å­é‡Œã€‚"
            "å‘¨æŠ¥æ˜¯èŒåœºäººçš„å¯¼èˆªä»ªã€‚"
            "å†™å‘¨æŠ¥ï¼Œæ˜¯é«˜æ‰‹çš„ä»ªå¼æ„Ÿã€‚"
            "å¤ç›˜ï¼Œæ˜¯ä¸ºäº†æ›´å‡†åœ°å‘åŠ›ã€‚"
            "è¿™ä¸€å‘¨çš„é«˜å…‰ï¼Œè¯·ç”¨æ–‡å­—å°å­˜ã€‚"
            "åˆ«ç­‰ç«™ä¼šå°´å°¬ï¼Œæå‰å‡†å¤‡å¥½ã€‚"
            "å‘¨æŠ¥æ˜¯å›¢é˜ŸçŸ¥è¯†çš„æ²‰æ·€ã€‚"
            "ä½ çš„æ€è€ƒï¼Œæ­£åœ¨åˆ›é€ ä»·å€¼ã€‚"
            "å‘¨æŠ¥å†™å®Œï¼Œå‘¨æœ«æ‰è¸å®žã€‚"
            "åˆ«è®©è¾›è‹¦å˜æˆâ€˜å¥½åƒåšäº†ä»€ä¹ˆâ€™ã€‚"
            "å‘¨æŠ¥æ˜¯æ‰“å·¥äººå¯¹æŠ—æ··æ²Œçš„ç§©åºã€‚"
            "å†™å‘¨æŠ¥çš„äººï¼Œä»Žä¸è¢«åŠ¨ã€‚"
            "ä½ çš„æˆæžœï¼Œå€¼å¾—è¢«ç»“æž„åŒ–è¡¨è¾¾ã€‚"
            "å¤ç›˜ä¸€æ¬¡ï¼Œå¤šä¸€åˆ†ç¡®å®šæ€§ã€‚"
            "å‘¨æŠ¥ä¸æ˜¯è´Ÿæ‹…ï¼Œæ˜¯æ­¦å™¨ã€‚"
            "ä»Šæ—¥æ€»ç»“ï¼Œä¸‹å‘¨ä»Žå®¹ã€‚"
            "åˆ«è®©çµæ„Ÿåœ¨æ¢¦é‡Œæºœèµ°ã€‚"
            "å‘¨æŠ¥æ˜¯èŒåœºä¿¡ç”¨çš„åŸºçŸ³ã€‚"
            "å†™å‘¨æŠ¥ï¼Œæ˜¯å¯¹è‡ªå·±æœ€å¤§çš„å–„æ„ã€‚"
            "å¤ç›˜ï¼Œæ˜¯ä¸ºäº†è·³è¿‡é‡å¤ã€‚"
            "è¿™ä¸€å‘¨çš„ä½ ï¼Œå€¼å¾—è¢«é“­è®°ã€‚"
            "åˆ«ç­‰è€æ¿é—®ï¼Œä¸»åŠ¨äº®å‰‘ã€‚"
            "å‘¨æŠ¥æ˜¯å›¢é˜Ÿåä½œçš„æ¡¥æ¢ã€‚"
            "ä½ çš„åŠªåŠ›ï¼Œéœ€è¦è¢«ç³»ç»Ÿè®°å½•ã€‚"
            "å†™å‘¨æŠ¥ï¼Œæ˜¯ä¸“ä¸šä¸»ä¹‰çš„å¾®å…‰ã€‚"
            "å¤ç›˜ä¸€æ¬¡ï¼Œå¤šä¸€ä¸ªé€‰æ‹©ã€‚"
            "å‘¨æŠ¥ä¸æ˜¯ä»»åŠ¡ï¼Œæ˜¯èˆžå°ã€‚"
            "ä»Šæ—¥æ€»ç»“ï¼Œæ˜Žæ—¥é—ªè€€ã€‚"
            "åˆ«è®©å¿™ç¢ŒæŽ©ç›–äº†æ–¹å‘ã€‚"
            "å‘¨æŠ¥æ˜¯æ‰“å·¥äººçš„æ—¶é—´è´¦æœ¬ã€‚"
            "å†™å‘¨æŠ¥çš„äººï¼Œä»Žä¸è¿·å¤±ã€‚"
            "ä½ çš„æˆæžœï¼Œå€¼å¾—è¢«æ”¾å¤§ã€‚"
            "å¤ç›˜ï¼Œæ˜¯ä¸ºäº†è½»ç›ˆå‰è¡Œã€‚"
            "è¿™ä¸€å‘¨çš„ä½ ï¼Œè¶…æ£’ï¼"
            "åˆ«è®©è¾›è‹¦ç™½æµï¼Œå¿«å†™ä¸‹æ¥ï¼"
            "å‘¨æŠ¥æ˜¯èŒåœºäººçš„å¤åˆ©å·¥å…·ã€‚"
            "ä½ çš„æ€è€ƒï¼Œæ­£åœ¨å¡‘é€ æœªæ¥ã€‚"
            "å‘¨æŠ¥å†™å®Œï¼Œä¸–ç•Œéƒ½å®‰é™äº†ã€‚"
            "å¤ç›˜ä¸æ˜¯å›žå¤´çœ‹ï¼Œæ˜¯ä¸ºè·³å¾—æ›´è¿œã€‚"
            "ä»Šæ—¥ä¸å†™ï¼Œä¸‹å‘¨å¤±ç„¦ã€‚"
            "ä½ çš„å‘¨æŠ¥ï¼Œæ¯” PPT æ›´çœŸå®žã€‚"
            "åˆ«è®©æˆæžœåªå­˜åœ¨äºŽå£å¤´ã€‚"
            "å‘¨æŠ¥æ˜¯ç»™è‡ªå·±çš„æˆé•¿ç¤¼ã€‚"
            "å†™å‘¨æŠ¥ï¼Œæ˜¯é«˜æ‰‹çš„æ—¥å¸¸ã€‚"
            "å¤ç›˜ï¼Œæ˜¯ä¸ºäº†ç²¾å‡†å‘åŠ›ã€‚"
            "è¿™ä¸€å‘¨çš„åŠªåŠ›ï¼Œè¯·ç”¨æ–‡å­—åŠ å†•ã€‚"
            "åˆ«ç­‰å‘¨ä¸€æ…Œï¼Œå‘¨å…­ä»Žå®¹å†™ã€‚"
            "å‘¨æŠ¥æ˜¯å›¢é˜Ÿæ™ºæ…§çš„ç»“æ™¶ã€‚"
            "ä½ çš„æ€è€ƒï¼Œå€¼å¾—è¢«çè—ã€‚"
            "å‘¨æŠ¥å†™å¾—å¥½ï¼Œæœºä¼šè‡ªç„¶æ‰¾ã€‚"
            "å¤ç›˜ä¸æ˜¯è´Ÿæ‹…ï¼Œæ˜¯è‡ªç”±ã€‚"
            "ä»Šæ—¥æ€»ç»“ï¼Œä¸‹å‘¨å¼€æŒ‚ã€‚"
            "åˆ«è®©çµæ„Ÿéšé£Žè€Œé€ã€‚"
            "å‘¨æŠ¥æ˜¯èŒåœºäººçš„ç½—ç›˜ã€‚"
            "å†™å‘¨æŠ¥çš„äººï¼Œæ°¸è¿œæœ‰åº•æ°”ã€‚"
            "ä½ çš„åŠªåŠ›ï¼Œä¸è¯¥è¢«é—å¿˜ã€‚"
            "å¤ç›˜ä¸€æ¬¡ï¼Œå°‘èµ°å†¤æž‰è·¯ã€‚"
            "å‘¨æŠ¥ä¸æ˜¯å½¢å¼ï¼Œæ˜¯åŠ›é‡ã€‚"
            "ä»Šæ—¥ä¸å†™ï¼Œæ˜Žæ—¥é çŒœã€‚"
            "ä½ çš„å‘¨æŠ¥ï¼Œæ­£åœ¨æ”¹å˜å™äº‹ã€‚"
            "åˆ«è®©æˆæžœæ²‰æ²¡åœ¨ä¼šè®®ä¸­ã€‚"
            "å‘¨æŠ¥æ˜¯æ‰“å·¥äººå¯¹æŠ—ç†µå¢žçš„æ­¦å™¨ã€‚"
            "å†™å‘¨æŠ¥ï¼Œæ˜¯å¯¹æ—¶é—´çš„ç¤¼èµžã€‚"
            "å¤ç›˜ï¼Œæ˜¯ä¸ºäº†æ›´ä¼˜é›…åœ°èµ¢ã€‚"
            "è¿™ä¸€å‘¨çš„ä½ ï¼Œå…‰èŠ’ä¸‡ä¸ˆâœ¨"
          )

          idx=$((RANDOM % ${#WEEKLY_QUOTES[@]}))
          quote="${WEEKLY_QUOTES[$idx]}"
          author="å‘¨æŠ¥å“²äºº"

          # æž„å»ºçº¯æ–‡æœ¬å†…å®¹ï¼ˆä½¿ç”¨ \n æ¢è¡Œï¼‰
          content="ðŸ“Š å‘¨æŠ¥æ—¶å…‰ Â· å¤ç›˜æ—¶åˆ»\n\nðŸ“Œ ä»Šæ—¥ï¼š${DATE_STR}ï¼ˆ${CN_DAY}ï¼‰\nâ° å»ºè®®æäº¤ï¼šä»Šæ—¥å†…å®Œæˆ\n\nðŸ’¬ â€œ${quote}â€\n> â€”â€” ${author}\n\nâœ¨ è¿™ä¸€å‘¨çš„åŠªåŠ›ï¼Œå€¼å¾—è¢«éƒ‘é‡è®°å½•ã€‚\n\n@all"

          # ä½¿ç”¨ text ç±»åž‹å‘é€ï¼ˆæ”¯æŒ @all å’Œæ¢è¡Œï¼‰
          payload=$(jq -n --arg c "$content" '{"msgtype":"text","text":{"content":$c}}')

          curl -s -X POST \
            "https://qyapi.weixin.qq.com/cgi-bin/webhook/send?key=${WECHAT_KEY}" \
            -H 'Content-Type: application/json' \
            -d "$payload" >/dev/null || true
